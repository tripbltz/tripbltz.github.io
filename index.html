
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Warhammer 40K Companion</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <h1>Warhammer 40K Companion App</h1>

  <section id="turn-phase">
    <h2>Phase Tracker</h2>
    <p>Turn: <span id="turn-number">1</span> | Phase: <span id="current-phase">Command Phase</span></p>
    <button onclick="endPhase()">End Phase</button>
    <button onclick="endTurn()">End Turn</button>
  </section>

  <section id="players">
    <h2>CP / VP</h2>
    <p>Player 1 CP: <span id="cp-p1">6</span> | VP: <span id="vp-p1">0</span></p>
    <p>Player 2 CP: <span id="cp-p2">6</span> | VP: <span id="vp-p2">0</span></p>
    <button onclick="spendCP('player1', 1)">-1 CP P1</button>
    <button onclick="spendCP('player2', 1)">-1 CP P2</button>
    <button onclick="addVP('player1', 5)">+5 VP P1</button>
    <button onclick="addVP('player2', 5)">+5 VP P2</button>
  </section>

  <section id="units">
    <h2>Units</h2>
    <input id="unit-name" placeholder="Unit name">
    <input id="unit-models" type="number" placeholder="Models">
    <input id="unit-wounds" type="number" placeholder="Wounds/model">
    <button onclick="addUnitFromForm()">Add Unit</button>
    <div id="unit-panel"></div>
  </section>

  <section id="dice">
    <h2>Dice</h2>
    <button onclick="rollDice(6)">Roll 6D6</button>
    <button onclick="rollDice(1, 3)">Roll D3</button>
    <button onclick="rollDice(1)">Roll D6</button>
  </section>

  <section id="buffs">
    <h2>Buffs & Effects</h2>
    <input id="buff-unit" placeholder="Unit name">
    <input id="buff-effect" placeholder="Effect (e.g. +1 to hit)">
    <select id="buff-duration">
      <option value="phase">Phase</option>
      <option value="turn">Turn</option>
      <option value="custom">Custom</option>
    </select>
    <button onclick="applyBuffFromForm()">Apply Buff</button>
    <div id="buff-list"></div>
  </section>

  <section id="objectives">
    <h2>Objectives</h2>
    <div id="objective-controls">
      <!-- dynamically populated -->
    </div>
  </section>

  <section id="psychic">
    <h2>Psychic Phase</h2>
    <input id="psyker-name" placeholder="Psyker name">
    <input id="power-name" placeholder="Power name">
    <input id="warp-charge" type="number" placeholder="Warp charge">
    <button onclick="castPower()">Cast Power</button>
  </section>

  <section id="stratagems">
    <h2>Stratagem Tracker</h2>
    <input id="stratagem-player" placeholder="Player">
    <input id="stratagem-name" placeholder="Stratagem name">
    <button onclick="useStratagemFromForm()">Use Stratagem</button>
    <button onclick="undoLastStratagem()">Undo Last</button>
    <div id="stratagem-log"></div>
  </section>

  <section id="terrain">
    <h2>Terrain Tags</h2>
    <input id="terrain-unit" placeholder="Unit name">
    <input id="terrain-type" placeholder="Tag (e.g. Light Cover)">
    <button onclick="assignTerrainFromForm()">Assign Terrain</button>
  </section>

  <section id="notes">
    <h2>Notes</h2>
    <input id="note-player" placeholder="Player">
    <input id="note-text" placeholder="Note">
    <button onclick="addNoteFromForm()">Add Note</button>
    <div id="note-log"></div>
  </section>

  <section id="summary">
    <h2>Game Summary</h2>
    <button onclick="generateSummary()">Show Summary</button>
    <div id="summary-output"></div>
  </section>

  <section id="natural">
    <h2>Natural Language Command</h2>
    <input id="nl-input" placeholder="e.g. Deal 2 wounds to Dire Avengers">
    <button onclick="processNL()">Submit</button>
  </section>

  <section id="snapshots">
    <h2>Snapshots</h2>
    <input id="snapshot-label" placeholder="Label">
    <button onclick="saveSnapshot()">Save Snapshot</button>
    <ul id="snapshot-list"></ul>
  </section>

  <section id="rules">
    <h2>Rule Assistant</h2>
    <input id="rule-input" placeholder="Type a keyword...">
    <button onclick="explainRule(document.getElementById('rule-input').value)">Explain Rule</button>
  </section>

  <section id="log-container">
    <h2>Game Log</h2>
    <div id="log" style="max-height: 200px; overflow-y: auto; border: 1px solid #ccc;"></div>
  </section>

  <script src="main.js"></script>
</body>
</html>
